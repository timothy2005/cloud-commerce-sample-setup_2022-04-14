"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=112,exports.ids=[112],exports.modules={4112:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SavedCartModule:()=>SavedCartModule});var core=__webpack_require__(7716),Subscription=__webpack_require__(5319),combineLatest=__webpack_require__(9112),merge=__webpack_require__(6682),tap=__webpack_require__(8307),map=__webpack_require__(8002),take=__webpack_require__(5257),distinctUntilChanged=__webpack_require__(7519),filter=__webpack_require__(5435),switchMap=__webpack_require__(3190),shareReplay=__webpack_require__(7349),mapTo=__webpack_require__(6736),spartacus_core=__webpack_require__(1018),spartacus_storefront=__webpack_require__(9667),common=__webpack_require__(8583),router=__webpack_require__(5987),spartacus_cart_saved_cart_root=__webpack_require__(6178),fesm2015_forms=__webpack_require__(3679);const _c0=["element"],_c1=__name(function(){return{cxRoute:"savedCarts"}},"_c1");function AddToSavedCartComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.ynx(0),core.TgZ(1,"div",1),core.TgZ(2,"button",2),core.ALo(3,"cxUrl"),core.TgZ(4,"span"),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA(),core.qZA(),core.TgZ(7,"button",3,4),core.NdJ("click",__name(function(){const cart_r1=core.CHM(_r4).ngIf;return core.oxw().saveCart(cart_r1)},"AddToSavedCartComponent_ng_container_0_Template_button_click_7_listener")),core.TgZ(9,"span"),core._uU(10),core.ALo(11,"cxTranslate"),core.qZA(),core.qZA(),core.qZA(),core.BQk()}2&rf&&(core.xp6(2),core.Q6J("routerLink",core.lcZ(3,3,core.DdM(9,_c1))),core.xp6(3),core.Oqu(core.lcZ(6,5,"addToSavedCart.savedCarts")),core.xp6(5),core.Oqu(core.lcZ(11,7,"addToSavedCart.saveCartForLater")))}function SavedCartDetailsActionComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.ynx(0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.TgZ(3,"button",3,4),core.NdJ("click",__name(function(){const cart_r1=core.CHM(_r5).ngIf,ctx_r4=core.oxw();return ctx_r4.openDialog(cart_r1,ctx_r4.savedCartFormType.DELETE)},"SavedCartDetailsActionComponent_ng_container_0_Template_button_click_3_listener")),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA(),core.qZA(),core.TgZ(7,"div",2),core.TgZ(8,"button",5,4),core.NdJ("click",__name(function(){const cart_r1=core.CHM(_r5).ngIf,ctx_r6=core.oxw();return ctx_r6.openDialog(cart_r1,ctx_r6.savedCartFormType.RESTORE)},"SavedCartDetailsActionComponent_ng_container_0_Template_button_click_8_listener")),core._uU(10),core.ALo(11,"cxTranslate"),core.qZA(),core.qZA(),core.qZA(),core.BQk()}2&rf&&(core.xp6(5),core.hij(" ",core.lcZ(6,2,"savedCartDetails.deleteSavedCart")," "),core.xp6(5),core.hij(" ",core.lcZ(11,4,"savedCartList.makeCartActive")," "))}function SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",3),core._UZ(2,"cx-cart-item-list",4),core.ALo(3,"async"),core.qZA(),core.BQk()),2&rf){const cart_r3=core.oxw().ngIf,ctx_r4=core.oxw();core.xp6(2),core.Q6J("cartId",cart_r3.code)("cartIsLoading",!core.lcZ(3,4,ctx_r4.cartLoaded$))("items",cart_r3.entries)("promotionLocation",ctx_r4.CartLocation.SavedCart)}}function SavedCartDetailsItemsComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_Template,4,6,"ng-container",2),core.BQk()),2&rf){const cart_r3=ctx.ngIf;core.oxw();const _r1=core.MAs(3);core.xp6(1),core.Q6J("ngIf",(null==cart_r3||null==cart_r3.entries?null:cart_r3.entries.length)>0)("ngIfElse",_r1)}}function SavedCartDetailsItemsComponent_ng_template_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",5),core._UZ(1,"cx-spinner"),core.qZA())}function SavedCartDetailsOverviewComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.ynx(0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.TgZ(3,"div",3),core.TgZ(4,"div",4),core._UZ(5,"cx-card",5),core.ALo(6,"async"),core.TgZ(7,"button",6,7),core.NdJ("click",__name(function(){const cart_r1=core.CHM(_r4).ngIf;return core.oxw().openDialog(cart_r1)},"SavedCartDetailsOverviewComponent_ng_container_0_Template_button_click_7_listener")),core._UZ(9,"cx-icon",8),core.qZA(),core.qZA(),core.TgZ(10,"div",9),core._UZ(11,"cx-card",10),core.ALo(12,"async"),core.qZA(),core.qZA(),core.TgZ(13,"div",3),core._UZ(14,"cx-card",5),core.ALo(15,"async"),core.qZA(),core.TgZ(16,"div",3),core._UZ(17,"cx-card",5),core.ALo(18,"async"),core.ALo(19,"cxDate"),core._UZ(20,"cx-card",5),core.ALo(21,"async"),core.qZA(),core.TgZ(22,"div",3),core._UZ(23,"cx-card",5),core.ALo(24,"async"),core._UZ(25,"cx-card",5),core.ALo(26,"async"),core.qZA(),core.qZA(),core.qZA(),core.BQk()}if(2&rf){const cart_r1=ctx.ngIf,ctx_r0=core.oxw();core.xp6(5),core.Q6J("content",core.lcZ(6,10,ctx_r0.getCartName(null==cart_r1?null:cart_r1.name))),core.xp6(4),core.Q6J("type",ctx_r0.iconTypes.PENCIL),core.xp6(2),core.Q6J("content",core.lcZ(12,12,ctx_r0.getCartDescription(null==cart_r1?null:cart_r1.description)))("truncateText",!0)("charactersLimit",30),core.xp6(3),core.Q6J("content",core.lcZ(15,14,ctx_r0.getCartId(null==cart_r1?null:cart_r1.code))),core.xp6(3),core.Q6J("content",core.lcZ(18,16,ctx_r0.getDateSaved(core.lcZ(19,18,null==cart_r1?null:cart_r1.saveTime)))),core.xp6(3),core.Q6J("content",core.lcZ(21,20,ctx_r0.getCartItems(null==cart_r1?null:cart_r1.totalItems))),core.xp6(3),core.Q6J("content",core.lcZ(24,22,ctx_r0.getCartQuantity(null==cart_r1?null:cart_r1.totalUnitCount))),core.xp6(2),core.Q6J("content",core.lcZ(26,24,ctx_r0.getCartTotal(null==cart_r1||null==cart_r1.totalPriceWithTax?null:cart_r1.totalPriceWithTax.formattedValue)))}}__name(AddToSavedCartComponent_ng_container_0_Template,"AddToSavedCartComponent_ng_container_0_Template"),__name(SavedCartDetailsActionComponent_ng_container_0_Template,"SavedCartDetailsActionComponent_ng_container_0_Template"),__name(SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_Template,"SavedCartDetailsItemsComponent_ng_container_0_ng_container_1_Template"),__name(SavedCartDetailsItemsComponent_ng_container_0_Template,"SavedCartDetailsItemsComponent_ng_container_0_Template"),__name(SavedCartDetailsItemsComponent_ng_template_2_Template,"SavedCartDetailsItemsComponent_ng_template_2_Template"),__name(SavedCartDetailsOverviewComponent_ng_container_0_Template,"SavedCartDetailsOverviewComponent_ng_container_0_Template");const _c2=__name(function(a0){return{savedCartId:a0}},"_c2"),_c3=__name(function(a1){return{cxRoute:"savedCartsDetails",params:a1}},"_c3");function SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_tr_22_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"tr",9),core.NdJ("click",__name(function(){const savedCart_r9=core.CHM(_r12).$implicit;return core.oxw(4).goToSavedCartDetails(savedCart_r9)},"SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_tr_22_Template_tr_click_0_listener")),core.TgZ(1,"td",10),core.TgZ(2,"div",11),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA(),core.TgZ(5,"a",12),core.ALo(6,"cxUrl"),core._uU(7),core.qZA(),core.qZA(),core.TgZ(8,"td",13),core.TgZ(9,"div",11),core._uU(10),core.ALo(11,"cxTranslate"),core.qZA(),core.TgZ(12,"a",12),core.ALo(13,"cxUrl"),core._uU(14),core.qZA(),core.qZA(),core.TgZ(15,"td",14),core.TgZ(16,"div",11),core._uU(17),core.ALo(18,"cxTranslate"),core.qZA(),core.TgZ(19,"a",12),core.ALo(20,"cxUrl"),core._uU(21),core.ALo(22,"cxDate"),core.qZA(),core.qZA(),core.TgZ(23,"td",15),core.TgZ(24,"div",11),core._uU(25),core.ALo(26,"cxTranslate"),core.qZA(),core.TgZ(27,"a",12),core.ALo(28,"cxUrl"),core._uU(29),core.qZA(),core.qZA(),core.TgZ(30,"td",16),core.TgZ(31,"div",11),core._uU(32),core.ALo(33,"cxTranslate"),core.qZA(),core.TgZ(34,"a",12),core.ALo(35,"cxUrl"),core._uU(36),core.qZA(),core.qZA(),core.TgZ(37,"td",17),core._UZ(38,"div",11),core.TgZ(39,"button",18,19),core.NdJ("click",__name(function($event){const savedCart_r9=core.CHM(_r12).$implicit;return core.oxw(4).openDialog($event,savedCart_r9)},"SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_tr_22_Template_button_click_39_listener")),core._uU(41),core.ALo(42,"cxTranslate"),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const savedCart_r9=ctx.$implicit;core.xp6(3),core.hij(" ",core.lcZ(4,16,"savedCartList.cartName")," "),core.xp6(2),core.Q6J("routerLink",core.lcZ(6,18,core.VKq(43,_c3,core.VKq(41,_c2,null==savedCart_r9?null:savedCart_r9.code)))),core.xp6(2),core.hij(" ",null==savedCart_r9?null:savedCart_r9.name,""),core.xp6(3),core.hij(" ",core.lcZ(11,20,"savedCartList.cartId")," "),core.xp6(2),core.Q6J("routerLink",core.lcZ(13,22,core.VKq(47,_c3,core.VKq(45,_c2,null==savedCart_r9?null:savedCart_r9.code)))),core.xp6(2),core.Oqu(null==savedCart_r9?null:savedCart_r9.code),core.xp6(3),core.hij(" ",core.lcZ(18,24,"savedCartList.dateSaved")," "),core.xp6(2),core.Q6J("routerLink",core.lcZ(20,26,core.VKq(51,_c3,core.VKq(49,_c2,null==savedCart_r9?null:savedCart_r9.code)))),core.xp6(2),core.Oqu(core.xi3(22,28,null==savedCart_r9?null:savedCart_r9.saveTime,"longDate")),core.xp6(4),core.hij(" ",core.lcZ(26,31,"savedCartList.quantity")," "),core.xp6(2),core.Q6J("routerLink",core.lcZ(28,33,core.VKq(55,_c3,core.VKq(53,_c2,null==savedCart_r9?null:savedCart_r9.code)))),core.xp6(2),core.hij(" ",null==savedCart_r9?null:savedCart_r9.totalUnitCount,""),core.xp6(3),core.hij(" ",core.lcZ(33,35,"savedCartList.total")," "),core.xp6(2),core.Q6J("routerLink",core.lcZ(35,37,core.VKq(59,_c3,core.VKq(57,_c2,null==savedCart_r9?null:savedCart_r9.code)))),core.xp6(2),core.hij(" ",null==savedCart_r9||null==savedCart_r9.totalPrice?null:savedCart_r9.totalPrice.formattedValue,""),core.xp6(5),core.hij(" ",core.lcZ(42,39,"savedCartList.makeCartActive")," ")}}function SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"table",5),core.TgZ(2,"thead",6),core.TgZ(3,"th",7),core._uU(4),core.ALo(5,"cxTranslate"),core.qZA(),core.TgZ(6,"th",7),core._uU(7),core.ALo(8,"cxTranslate"),core.qZA(),core.TgZ(9,"th",7),core._uU(10),core.ALo(11,"cxTranslate"),core.qZA(),core.TgZ(12,"th",7),core._uU(13),core.ALo(14,"cxTranslate"),core.qZA(),core.TgZ(15,"th",7),core._uU(16),core.ALo(17,"cxTranslate"),core.qZA(),core.TgZ(18,"th",7),core._uU(19),core.ALo(20,"cxTranslate"),core.qZA(),core.qZA(),core.TgZ(21,"tbody"),core.YNc(22,SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_tr_22_Template,43,61,"tr",8),core.qZA(),core.qZA(),core.BQk()),2&rf){const savedCarts_r1=core.oxw(2).ngIf;core.xp6(4),core.hij(" ",core.lcZ(5,7,"savedCartList.cartName")," "),core.xp6(3),core.Oqu(core.lcZ(8,9,"savedCartList.cartId")),core.xp6(3),core.Oqu(core.lcZ(11,11,"savedCartList.dateSaved")),core.xp6(3),core.hij(" ",core.lcZ(14,13,"savedCartList.quantity")," "),core.xp6(3),core.Oqu(core.lcZ(17,15,"savedCartList.total")),core.xp6(3),core.hij(" ",core.lcZ(20,17,"savedCartList.actions")," "),core.xp6(3),core.Q6J("ngForOf",savedCarts_r1)}}function SavedCartListComponent_ng_container_0_ng_container_1_ng_template_6_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",20),core.TgZ(1,"div",21),core.TgZ(2,"div"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.xp6(3),core.Oqu(core.lcZ(4,1,"savedCartList.notFound")))}__name(SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_tr_22_Template,"SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_tr_22_Template"),__name(SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_Template,"SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_Template"),__name(SavedCartListComponent_ng_container_0_ng_container_1_ng_template_6_Template,"SavedCartListComponent_ng_container_0_ng_container_1_ng_template_6_Template");const _c4=__name(function(a0){return{count:a0}},"_c4");function SavedCartListComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",3),core.TgZ(2,"h3"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA(),core.qZA(),core.YNc(5,SavedCartListComponent_ng_container_0_ng_container_1_ng_container_5_Template,23,19,"ng-container",1),core.YNc(6,SavedCartListComponent_ng_container_0_ng_container_1_ng_template_6_Template,5,3,"ng-template",null,4,core.W1O),core.BQk()),2&rf){const _r6=core.MAs(7),savedCarts_r1=core.oxw().ngIf;core.xp6(3),core.hij(" ",core.xi3(4,3,"savedCartList.savedCarts",core.VKq(6,_c4,savedCarts_r1.length))," "),core.xp6(2),core.Q6J("ngIf",(null==savedCarts_r1?null:savedCarts_r1.length)>0)("ngIfElse",_r6)}}function SavedCartListComponent_ng_container_0_ng_template_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",22),core._UZ(1,"cx-spinner"),core.qZA())}function SavedCartListComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SavedCartListComponent_ng_container_0_ng_container_1_Template,8,8,"ng-container",1),core.ALo(2,"async"),core.YNc(3,SavedCartListComponent_ng_container_0_ng_template_3_Template,2,0,"ng-template",null,2,core.W1O),core.BQk()),2&rf){const _r3=core.MAs(4),ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",!core.lcZ(2,2,ctx_r0.isLoading$))("ngIfElse",_r3)}}function SavedCartFormDialogComponent_ng_container_0_ng_container_6_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"savedCartDialog.editSavedCart")," "))}function SavedCartFormDialogComponent_ng_container_0_ng_container_7_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"savedCartDialog.deleteSavedCart")," "))}function SavedCartFormDialogComponent_ng_container_0_ng_container_8_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"savedCartDialog.saveForLater")," "))}function SavedCartFormDialogComponent_ng_container_0_ng_container_9_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"savedCartDialog.restoreSavedCart")," "))}__name(SavedCartListComponent_ng_container_0_ng_container_1_Template,"SavedCartListComponent_ng_container_0_ng_container_1_Template"),__name(SavedCartListComponent_ng_container_0_ng_template_3_Template,"SavedCartListComponent_ng_container_0_ng_template_3_Template"),__name(SavedCartListComponent_ng_container_0_Template,"SavedCartListComponent_ng_container_0_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_6_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_6_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_7_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_7_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_8_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_8_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_9_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_9_Template");const _c5=__name(function(a0){return{name:a0}},"_c5");function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_div_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",25),core.TgZ(1,"label"),core.TgZ(2,"span",26),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA(),core._UZ(5,"input",27),core.ALo(6,"cxTranslate"),core.qZA(),core.qZA()),2&rf){const ctx_r12=core.oxw(4);let tmp_1_0;core.xp6(3),core.hij(" ",core.lcZ(4,3,"savedCartDialog.nameOfCloneCart")," "),core.xp6(2),core.s9C("placeholder",core.xi3(6,5,"savedCartDialog.defaultCloneCartName",core.VKq(8,_c5,null==(tmp_1_0=ctx_r12.form.get("name"))?null:tmp_1_0.value))),core.Q6J("maxLength",ctx_r12.nameMaxLength)}}function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.ynx(0),core.TgZ(1,"div",21),core.TgZ(2,"input",22),core.NdJ("change",__name(function(){return core.CHM(_r14),core.oxw(3).toggleIsCloneSavedCart()},"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template_input_change_2_listener")),core.qZA(),core.TgZ(3,"label",23),core._uU(4),core.ALo(5,"cxTranslate"),core.qZA(),core.qZA(),core.YNc(6,SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_div_6_Template,7,10,"div",24),core.BQk()}if(2&rf){const ctx_r8=core.oxw(3);core.xp6(2),core.Q6J("checked",ctx_r8.isCloneSavedCart),core.xp6(2),core.Oqu(core.lcZ(5,3,"savedCartDialog.keepCopySavedCart")),core.xp6(2),core.Q6J("ngIf",ctx_r8.isCloneSavedCart)}}function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"button",29),core.NdJ("click",__name(function(){core.CHM(_r17);const ctx_r16=core.oxw(4);return ctx_r16.deleteCart(ctx_r16.cart.code)},"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template_button_click_0_listener")),core.ALo(1,"cxTranslate"),core.ALo(2,"async"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r15=core.oxw(4);core.Q6J("disabled",core.lcZ(2,5,ctx_r15.isDisableDeleteButton$)),core.uIk("aria-label",core.lcZ(1,3,"common.delete")),core.xp6(3),core.hij(" ",core.lcZ(4,7,"savedCartDialog.delete")," ")}}function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template,5,9,"button",28),core.BQk()),2&rf){const ctx_r9=core.oxw(3);core.xp6(1),core.Q6J("ngIf",ctx_r9.cart.code)}}function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"button",29),core.NdJ("click",__name(function(){core.CHM(_r20);const ctx_r19=core.oxw(4);return ctx_r19.restoreSavedCart(ctx_r19.cart.code)},"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template_button_click_0_listener")),core.ALo(1,"async"),core.ALo(2,"cxTranslate"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r18=core.oxw(4);core.Q6J("disabled",core.lcZ(1,3,ctx_r18.isDisableRestoreButton$)),core.uIk("aria-label",core.lcZ(2,5,"common.restore")),core.xp6(3),core.hij(" ",core.lcZ(4,7,"savedCartDialog.restore")," ")}}function SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_Template(rf,ctx){if(1&rf&&core.YNc(0,SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template,5,9,"button",28),2&rf){const ctx_r11=core.oxw(3);core.Q6J("ngIf",ctx_r11.cart.code)}}function SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template(rf,ctx){if(1&rf){const _r22=core.EpF();core.ynx(0),core.TgZ(1,"p",13),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.TgZ(4,"div",14),core.TgZ(5,"div",15),core.TgZ(6,"div",16),core._uU(7),core.ALo(8,"cxTranslate"),core.qZA(),core.TgZ(9,"div",17),core._uU(10),core.qZA(),core.qZA(),core.TgZ(11,"div",15),core.TgZ(12,"div",16),core._uU(13),core.ALo(14,"cxTranslate"),core.qZA(),core.TgZ(15,"div",17),core._uU(16),core.qZA(),core.qZA(),core.TgZ(17,"div",15),core.TgZ(18,"div",16),core._uU(19),core.ALo(20,"cxTranslate"),core.qZA(),core.TgZ(21,"div",17),core._uU(22),core.qZA(),core.qZA(),core.TgZ(23,"div",15),core.TgZ(24,"div",16),core._uU(25),core.ALo(26,"cxTranslate"),core.qZA(),core.TgZ(27,"div",17),core._uU(28),core.qZA(),core.qZA(),core.TgZ(29,"div",15),core.TgZ(30,"div",16),core._uU(31),core.ALo(32,"cxTranslate"),core.qZA(),core.TgZ(33,"div",17),core._uU(34),core.qZA(),core.qZA(),core.qZA(),core.YNc(35,SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template,7,5,"ng-container",0),core.TgZ(36,"div",18),core.TgZ(37,"button",19),core.NdJ("click",__name(function(){return core.CHM(_r22),core.oxw(2).close("Close Save Cart Dialog")},"SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template_button_click_37_listener")),core.ALo(38,"cxTranslate"),core._uU(39),core.ALo(40,"cxTranslate"),core.qZA(),core.YNc(41,SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_Template,2,1,"ng-container",11),core.YNc(42,SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_Template,1,1,"ng-template",null,20,core.W1O),core.qZA(),core.BQk()}if(2&rf){const _r10=core.MAs(43),ctx_r5=core.oxw(2);core.xp6(2),core.hij(" ",core.lcZ(3,16,ctx_r5.layoutOption===ctx_r5.savedCartFormType.DELETE?"savedCartDialog.followingCartDelete":"savedCartDialog.followingCartRestore")," "),core.xp6(5),core.hij(" ",core.lcZ(8,18,"savedCartDialog.name")," "),core.xp6(3),core.hij(" ",null==ctx_r5.cart?null:ctx_r5.cart.name," "),core.xp6(3),core.hij(" ",core.lcZ(14,20,"savedCartDialog.id")," "),core.xp6(3),core.hij(" ",null==ctx_r5.cart?null:ctx_r5.cart.code," "),core.xp6(3),core.hij(" ",core.lcZ(20,22,"savedCartDialog.description")," "),core.xp6(3),core.hij(" ",null==ctx_r5.cart?null:ctx_r5.cart.description," "),core.xp6(3),core.hij(" ",core.lcZ(26,24,"savedCartDialog.quantity")," "),core.xp6(3),core.hij(" ",null==ctx_r5.cart?null:ctx_r5.cart.totalItems," "),core.xp6(3),core.hij(" ",core.lcZ(32,26,"savedCartDialog.total")," "),core.xp6(3),core.hij(" ",null==ctx_r5.cart||null==ctx_r5.cart.totalPriceWithTax?null:ctx_r5.cart.totalPriceWithTax.formattedValue," "),core.xp6(1),core.Q6J("ngIf",ctx_r5.layoutOption===ctx_r5.savedCartFormType.RESTORE),core.xp6(2),core.uIk("aria-label",core.lcZ(38,28,"common.close")),core.xp6(2),core.hij(" ",core.lcZ(40,30,"savedCartDialog.cancel")," "),core.xp6(2),core.Q6J("ngIf",ctx_r5.layoutOption===ctx_r5.savedCartFormType.DELETE)("ngIfElse",_r10)}}function SavedCartFormDialogComponent_ng_container_0_ng_template_17_ng_container_0_Template(rf,ctx){1&rf&&(core.ynx(0),core.TgZ(1,"p",13),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.BQk()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"savedCartDialog.itemsSavedForLater")," "))}function SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template(rf,ctx){if(1&rf){const _r25=core.EpF();core.YNc(0,SavedCartFormDialogComponent_ng_container_0_ng_template_17_ng_container_0_Template,4,3,"ng-container",0),core.TgZ(1,"div",14),core.ynx(2),core.TgZ(3,"label"),core.TgZ(4,"span",30),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA(),core._UZ(7,"input",31),core._UZ(8,"cx-form-errors",32),core.qZA(),core.BQk(),core.qZA(),core.TgZ(9,"div",14),core.TgZ(10,"label"),core.TgZ(11,"span",30),core._uU(12),core.ALo(13,"cxTranslate"),core.TgZ(14,"span",33),core._uU(15),core.ALo(16,"cxTranslate"),core.qZA(),core.qZA(),core._UZ(17,"textarea",34),core._UZ(18,"cx-form-errors",32),core.TgZ(19,"p",35),core._uU(20),core.ALo(21,"cxTranslate"),core.qZA(),core.qZA(),core.qZA(),core.TgZ(22,"div",18),core.TgZ(23,"button",36),core.NdJ("click",__name(function(){return core.CHM(_r25),core.oxw(2).close("Close Save Cart Dialog")},"SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template_button_click_23_listener")),core.ALo(24,"cxTranslate"),core.ALo(25,"async"),core._uU(26),core.ALo(27,"cxTranslate"),core.qZA(),core.TgZ(28,"button",37),core.NdJ("click",__name(function(){core.CHM(_r25);const ctx_r26=core.oxw(2);return ctx_r26.saveOrEditCart(null==ctx_r26.cart?null:ctx_r26.cart.code)},"SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template_button_click_28_listener")),core.ALo(29,"cxTranslate"),core.ALo(30,"async"),core._uU(31),core.ALo(32,"cxTranslate"),core.qZA(),core.qZA()}if(2&rf){const ctx_r7=core.oxw(2);core.Q6J("ngIf",ctx_r7.layoutOption===ctx_r7.savedCartFormType.SAVE),core.xp6(5),core.Oqu(core.lcZ(6,15,"savedCartDialog.savedCartName")),core.xp6(2),core.Q6J("maxLength",ctx_r7.nameMaxLength),core.xp6(1),core.Q6J("control",ctx_r7.form.get("name")),core.xp6(4),core.hij("",core.lcZ(13,17,"savedCartDialog.savedCartDescription")," "),core.xp6(3),core.hij(" (",core.lcZ(16,19,"savedCartDialog.optional"),") "),core.xp6(2),core.Q6J("maxLength",ctx_r7.descriptionMaxLength),core.xp6(1),core.Q6J("control",ctx_r7.form.get("description")),core.xp6(2),core.hij(" ",core.xi3(21,21,"savedCartDialog.charactersLeft",core.VKq(36,_c4,ctx_r7.descriptionsCharacterLeft))," "),core.xp6(3),core.Q6J("disabled",core.lcZ(25,26,ctx_r7.isLoading$)),core.uIk("aria-label",core.lcZ(24,24,"common.close")),core.xp6(3),core.hij(" ",core.lcZ(27,28,"savedCartDialog.cancel")," "),core.xp6(2),core.Q6J("disabled",ctx_r7.form.invalid||core.lcZ(30,32,ctx_r7.isLoading$)),core.uIk("aria-label",core.lcZ(29,30,"common.save")),core.xp6(3),core.hij(" ",core.lcZ(32,34,"savedCartDialog.save")," ")}}function SavedCartFormDialogComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r28=core.EpF();core.ynx(0),core.TgZ(1,"div",1),core.NdJ("esc",__name(function(){return core.CHM(_r28),core.oxw().close("Escape clicked")},"SavedCartFormDialogComponent_ng_container_0_Template_div_esc_1_listener")),core.TgZ(2,"form",2),core.TgZ(3,"div",3),core.ynx(4,4),core.TgZ(5,"div",5),core.YNc(6,SavedCartFormDialogComponent_ng_container_0_ng_container_6_Template,3,3,"ng-container",6),core.YNc(7,SavedCartFormDialogComponent_ng_container_0_ng_container_7_Template,3,3,"ng-container",6),core.YNc(8,SavedCartFormDialogComponent_ng_container_0_ng_container_8_Template,3,3,"ng-container",6),core.YNc(9,SavedCartFormDialogComponent_ng_container_0_ng_container_9_Template,3,3,"ng-container",6),core.qZA(),core.BQk(),core.TgZ(10,"button",7),core.NdJ("click",__name(function(){return core.CHM(_r28),core.oxw().close("Close Save Cart Dialog")},"SavedCartFormDialogComponent_ng_container_0_Template_button_click_10_listener")),core.ALo(11,"async"),core.ALo(12,"cxTranslate"),core.TgZ(13,"span",8),core._UZ(14,"cx-icon",9),core.qZA(),core.qZA(),core.qZA(),core.TgZ(15,"div",10),core.YNc(16,SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template,44,32,"ng-container",11),core.YNc(17,SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template,33,38,"ng-template",null,12,core.W1O),core.qZA(),core.qZA(),core.qZA(),core.BQk()}if(2&rf){const _r6=core.MAs(18),ctx_r0=core.oxw();core.xp6(1),core.Q6J("cxFocus",ctx_r0.focusConfig),core.xp6(1),core.Q6J("formGroup",ctx_r0.form),core.xp6(2),core.Q6J("ngSwitch",ctx_r0.layoutOption),core.xp6(2),core.Q6J("ngSwitchCase",ctx_r0.savedCartFormType.EDIT),core.xp6(1),core.Q6J("ngSwitchCase",ctx_r0.savedCartFormType.DELETE),core.xp6(1),core.Q6J("ngSwitchCase",ctx_r0.savedCartFormType.SAVE),core.xp6(1),core.Q6J("ngSwitchCase",ctx_r0.savedCartFormType.RESTORE),core.xp6(1),core.Q6J("disabled",core.lcZ(11,12,ctx_r0.isLoading$)),core.uIk("aria-label",core.lcZ(12,14,"common.close")),core.xp6(4),core.Q6J("type",ctx_r0.iconTypes.CLOSE),core.xp6(2),core.Q6J("ngIf",ctx_r0.layoutOption===ctx_r0.savedCartFormType.DELETE||ctx_r0.layoutOption===ctx_r0.savedCartFormType.RESTORE)("ngIfElse",_r6)}}__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_div_6_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_div_6_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_35_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_button_1_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_container_41_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_button_0_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_ng_template_42_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template,"SavedCartFormDialogComponent_ng_container_0_ng_container_16_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_template_17_ng_container_0_Template,"SavedCartFormDialogComponent_ng_container_0_ng_template_17_ng_container_0_Template"),__name(SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template,"SavedCartFormDialogComponent_ng_container_0_ng_template_17_Template"),__name(SavedCartFormDialogComponent_ng_container_0_Template,"SavedCartFormDialogComponent_ng_container_0_Template");class AddToSavedCartComponent{constructor(activeCartService,authService,routingService,vcr,launchDialogService){this.activeCartService=activeCartService,this.authService=authService,this.routingService=routingService,this.vcr=vcr,this.launchDialogService=launchDialogService,this.subscription=new Subscription.w,this.loggedIn=!1}ngOnInit(){this.cart$=(0,combineLatest.aj)([this.activeCartService.getActive(),this.authService.isUserLoggedIn()]).pipe((0,tap.b)(([_,loggedIn])=>this.loggedIn=loggedIn),(0,map.U)(([activeCart])=>activeCart))}saveCart(cart){this.loggedIn?this.openDialog(cart):this.routingService.go({cxRoute:"login"})}openDialog(cart){const dialog=this.launchDialogService.openDialog("SAVED_CART",this.element,this.vcr,{cart,layoutOption:"save"});dialog&&this.subscription.add(dialog.pipe((0,take.q)(1)).subscribe())}ngOnDestroy(){var _a;null===(_a=this.subscription)||void 0===_a||_a.unsubscribe()}}__name(AddToSavedCartComponent,"AddToSavedCartComponent"),AddToSavedCartComponent.\u0275fac=__name(function(t){return new(t||AddToSavedCartComponent)(core.Y36(spartacus_core.CPo),core.Y36(spartacus_core.e80),core.Y36(spartacus_core.Znh),core.Y36(core.s_b),core.Y36(spartacus_storefront.Q3W))},"AddToSavedCartComponent_Factory"),AddToSavedCartComponent.\u0275cmp=core.Xpm({type:AddToSavedCartComponent,selectors:[["cx-add-to-saved-cart"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.element=_t.first)}},"AddToSavedCartComponent_Query"),decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-add-to-saved-cart-container"],["cxAutoFocus","",1,"link","cx-action-link",3,"routerLink"],["cxAutoFocus","",1,"link","cx-action-link",3,"click"],["element",""]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,AddToSavedCartComponent_ng_container_0_Template,12,10,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.cart$))},"AddToSavedCartComponent_Template"),directives:[common.O5,router.rH],pipes:[common.Ov,spartacus_core.l2T,spartacus_core.X$D],encapsulation:2,changeDetection:0});class AddToSavedCartModule{}__name(AddToSavedCartModule,"AddToSavedCartModule"),AddToSavedCartModule.\u0275fac=__name(function(t){return new(t||AddToSavedCartModule)},"AddToSavedCartModule_Factory"),AddToSavedCartModule.\u0275mod=core.oAB({type:AddToSavedCartModule}),AddToSavedCartModule.\u0275inj=core.cJS({imports:[[common.ez,router.Bz,spartacus_core.pEA.withConfig({cmsComponents:{AddToSavedCartsComponent:{component:AddToSavedCartComponent}}}),spartacus_core.LUR,spartacus_core.bhT]]});class SavedCartDetailsService{constructor(routingService,savedCartService){this.routingService=routingService,this.savedCartService=savedCartService,this.savedCartId$=this.routingService.getRouterState().pipe((0,map.U)(routingData=>routingData.state.params.savedCartId),(0,distinctUntilChanged.x)()),this.savedCart$=this.savedCartId$.pipe((0,filter.h)(cartId=>Boolean(cartId)),(0,tap.b)(savedCartId=>this.savedCartService.loadSavedCart(savedCartId)),(0,switchMap.w)(savedCartId=>this.savedCartService.get(savedCartId)),(0,shareReplay.d)({bufferSize:1,refCount:!0}))}getSavedCartId(){return this.savedCartId$}getCartDetails(){return this.savedCart$}}__name(SavedCartDetailsService,"SavedCartDetailsService"),SavedCartDetailsService.\u0275fac=__name(function(t){return new(t||SavedCartDetailsService)(core.LFG(spartacus_core.Znh),core.LFG(spartacus_cart_saved_cart_root.aD))},"SavedCartDetailsService_Factory"),SavedCartDetailsService.\u0275prov=core.Yz7({token:SavedCartDetailsService,factory:SavedCartDetailsService.\u0275fac,providedIn:"root"});class SavedCartDetailsActionComponent{constructor(savedCartDetailsService,vcr,launchDialogService){this.savedCartDetailsService=savedCartDetailsService,this.vcr=vcr,this.launchDialogService=launchDialogService,this.subscription=new Subscription.w,this.savedCartFormType=spartacus_cart_saved_cart_root.AE,this.savedCart$=this.savedCartDetailsService.getCartDetails()}openDialog(cart,type){const dialog=this.launchDialogService.openDialog("SAVED_CART",this.element,this.vcr,{cart,layoutOption:type});dialog&&this.subscription.add(dialog.pipe((0,take.q)(1)).subscribe())}ngOnDestroy(){var _a;null===(_a=this.subscription)||void 0===_a||_a.unsubscribe()}}__name(SavedCartDetailsActionComponent,"SavedCartDetailsActionComponent"),SavedCartDetailsActionComponent.\u0275fac=__name(function(t){return new(t||SavedCartDetailsActionComponent)(core.Y36(SavedCartDetailsService),core.Y36(core.s_b),core.Y36(spartacus_storefront.Q3W))},"SavedCartDetailsActionComponent_Factory"),SavedCartDetailsActionComponent.\u0275cmp=core.Xpm({type:SavedCartDetailsActionComponent,selectors:[["cx-saved-cart-details-action"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.element=_t.first)}},"SavedCartDetailsActionComponent_Query"),decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-saved-cart-restore-btns","row"],[1,"col-xs-12","col-md-5","col-lg-4"],[1,"btn","btn-block","btn-action",3,"click"],["element",""],[1,"btn","btn-block","btn-primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SavedCartDetailsActionComponent_ng_container_0_Template,12,6,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.savedCart$))},"SavedCartDetailsActionComponent_Template"),directives:[common.O5],pipes:[common.Ov,spartacus_core.X$D],encapsulation:2});class SavedCartDetailsItemsComponent{constructor(savedCartDetailsService,savedCartService,eventSercvice,globalMessageService,routingService){this.savedCartDetailsService=savedCartDetailsService,this.savedCartService=savedCartService,this.eventSercvice=eventSercvice,this.globalMessageService=globalMessageService,this.routingService=routingService,this.subscription=new Subscription.w,this.CartLocation=spartacus_core.Bx8,this.cartLoaded$=this.savedCartDetailsService.getSavedCartId().pipe((0,switchMap.w)(cartId=>this.savedCartService.isStable(cartId))),this.savedCart$=this.savedCartDetailsService.getCartDetails().pipe((0,tap.b)(cart=>{var _a;(null!==(_a=null==cart?void 0:cart.entries)&&void 0!==_a?_a:[]).length<=0&&(null==cart?void 0:cart.code)&&this.savedCartService.deleteSavedCart(cart.code)}))}ngOnInit(){this.subscription.add(this.eventSercvice.get(spartacus_cart_saved_cart_root.Zt).pipe((0,take.q)(1),(0,mapTo.h)(!0)).subscribe(success=>this.onDeleteComplete(success)))}onDeleteComplete(success){success&&(this.routingService.go({cxRoute:"savedCarts"}),this.globalMessageService.add({key:"savedCartDialog.deleteCartSuccess"},spartacus_core.xUg.MSG_TYPE_CONFIRMATION))}ngOnDestroy(){var _a;null===(_a=this.subscription)||void 0===_a||_a.unsubscribe()}}__name(SavedCartDetailsItemsComponent,"SavedCartDetailsItemsComponent"),SavedCartDetailsItemsComponent.\u0275fac=__name(function(t){return new(t||SavedCartDetailsItemsComponent)(core.Y36(SavedCartDetailsService),core.Y36(spartacus_cart_saved_cart_root.aD),core.Y36(spartacus_core.POd),core.Y36(spartacus_core.IWp),core.Y36(spartacus_core.Znh))},"SavedCartDetailsItemsComponent_Factory"),SavedCartDetailsItemsComponent.\u0275cmp=core.Xpm({type:SavedCartDetailsItemsComponent,selectors:[["cx-saved-cart-details-items"]],decls:4,vars:3,consts:[[4,"ngIf"],["emptyCartItems",""],[4,"ngIf","ngIfElse"],[1,"cart-details-wrapper"],[3,"cartId","cartIsLoading","items","promotionLocation"],[1,"cx-spinner"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SavedCartDetailsItemsComponent_ng_container_0_Template,2,2,"ng-container",0),core.ALo(1,"async"),core.YNc(2,SavedCartDetailsItemsComponent_ng_template_2_Template,2,0,"ng-template",null,1,core.W1O)),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.savedCart$))},"SavedCartDetailsItemsComponent_Template"),directives:[common.O5,spartacus_storefront.n3h,spartacus_storefront.ORR],pipes:[common.Ov],encapsulation:2,changeDetection:0});class SavedCartDetailsOverviewComponent{constructor(savedCartDetailsService,translation,vcr,launchDialogService){this.savedCartDetailsService=savedCartDetailsService,this.translation=translation,this.vcr=vcr,this.launchDialogService=launchDialogService,this.subscription=new Subscription.w,this.iconTypes=spartacus_storefront.e1G,this.savedCart$=this.savedCartDetailsService.getCartDetails()}getCartName(cartName){return this.translation.translate("savedCartDetails.cartName").pipe((0,filter.h)(()=>Boolean(cartName)),(0,map.U)(textTitle=>({title:textTitle,text:[cartName]})))}getCartDescription(cartDescription){return this.translation.translate("savedCartDetails.cartDescription").pipe((0,filter.h)(()=>Boolean(cartDescription)),(0,map.U)(textTitle=>({title:textTitle,text:[cartDescription]})))}getCartId(cartId){return this.translation.translate("savedCartDetails.cartId").pipe((0,filter.h)(()=>Boolean(cartId)),(0,map.U)(textTitle=>({title:textTitle,text:[cartId]})))}getDateSaved(saveTime){return this.translation.translate("savedCartDetails.dateSaved").pipe((0,filter.h)(()=>Boolean(saveTime)),(0,map.U)(textTitle=>({title:textTitle,text:[null!=saveTime?saveTime:""]})))}getCartItems(totalItems){return this.translation.translate("savedCartDetails.items").pipe((0,filter.h)(()=>Boolean(totalItems)),(0,map.U)(textTitle=>({title:textTitle,text:[totalItems.toString()]})))}getCartQuantity(totalUnitCount){return this.translation.translate("savedCartDetails.quantity").pipe((0,filter.h)(()=>Boolean(totalUnitCount)),(0,map.U)(textTitle=>({title:textTitle,text:[totalUnitCount.toString()]})))}getCartTotal(totalPriceWithTax){return this.translation.translate("savedCartDetails.total").pipe((0,filter.h)(()=>Boolean(totalPriceWithTax)),(0,map.U)(textTitle=>({title:textTitle,text:[totalPriceWithTax]})))}openDialog(cart){const dialog=this.launchDialogService.openDialog("SAVED_CART",this.element,this.vcr,{cart,layoutOption:"edit"});dialog&&this.subscription.add(dialog.pipe((0,take.q)(1)).subscribe())}ngOnDestroy(){var _a;null===(_a=this.subscription)||void 0===_a||_a.unsubscribe()}}__name(SavedCartDetailsOverviewComponent,"SavedCartDetailsOverviewComponent"),SavedCartDetailsOverviewComponent.\u0275fac=__name(function(t){return new(t||SavedCartDetailsOverviewComponent)(core.Y36(SavedCartDetailsService),core.Y36(spartacus_core.D7D),core.Y36(core.s_b),core.Y36(spartacus_storefront.Q3W))},"SavedCartDetailsOverviewComponent_Factory"),SavedCartDetailsOverviewComponent.\u0275cmp=core.Xpm({type:SavedCartDetailsOverviewComponent,selectors:[["cx-saved-cart-details-overview"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.element=_t.first)}},"SavedCartDetailsOverviewComponent_Query"),decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-cart-summary"],[1,"container"],[1,"cx-summary-card"],[1,"cx-edit-container"],[3,"content"],[1,"cx-edit-cart",3,"click"],["element",""],[3,"type"],[1,"cx-card-description"],[3,"content","truncateText","charactersLimit"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SavedCartDetailsOverviewComponent_ng_container_0_Template,27,26,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.savedCart$))},"SavedCartDetailsOverviewComponent_Template"),directives:[common.O5,spartacus_storefront.AkF,spartacus_storefront.oJW],pipes:[common.Ov,spartacus_core.dgE],encapsulation:2});class SavedCartDetailsModule{}__name(SavedCartDetailsModule,"SavedCartDetailsModule"),SavedCartDetailsModule.\u0275fac=__name(function(t){return new(t||SavedCartDetailsModule)},"SavedCartDetailsModule_Factory"),SavedCartDetailsModule.\u0275mod=core.oAB({type:SavedCartDetailsModule}),SavedCartDetailsModule.\u0275inj=core.cJS({imports:[[spartacus_storefront.fM,common.ez,spartacus_core.LUR,spartacus_core.bhT,router.Bz,spartacus_storefront.dTQ,spartacus_storefront.cOq,spartacus_storefront.xMq,spartacus_storefront.QX1,spartacus_storefront.Fme,spartacus_core.pEA.withConfig({cmsComponents:{SavedCartDetailsOverviewComponent:{component:SavedCartDetailsOverviewComponent,guards:[spartacus_core.a1M]},SavedCartDetailsItemsComponent:{component:SavedCartDetailsItemsComponent,guards:[spartacus_core.a1M]},SavedCartDetailsActionComponent:{component:SavedCartDetailsActionComponent,guards:[spartacus_core.a1M]}}})]]});class SavedCartListComponent{constructor(routing,savedCartService,vcr,launchDialogService){this.routing=routing,this.savedCartService=savedCartService,this.vcr=vcr,this.launchDialogService=launchDialogService,this.subscription=new Subscription.w,this.savedCarts$=this.savedCartService.getList().pipe((0,map.U)(lists=>lists.sort((a,b)=>{let date1=a.saveTime?new Date(a.saveTime).getTime():(new Date).getTime();return(b.saveTime?new Date(b.saveTime).getTime():(new Date).getTime())-date1})))}ngOnInit(){this.isLoading$=this.savedCartService.getSavedCartListProcessLoading(),this.savedCartService.loadSavedCarts()}goToSavedCartDetails(cart){this.routing.go({cxRoute:"savedCartsDetails",params:{savedCartId:null==cart?void 0:cart.code}})}openDialog(event,cart){const dialog=this.launchDialogService.openDialog("SAVED_CART",this.restoreButton,this.vcr,{cart,layoutOption:spartacus_cart_saved_cart_root.AE.RESTORE});dialog&&this.subscription.add(dialog.pipe((0,take.q)(1)).subscribe()),event.stopPropagation()}ngOnDestroy(){var _a;this.savedCartService.clearSavedCarts(),this.savedCartService.clearSaveCart(),this.savedCartService.clearRestoreSavedCart(),null===(_a=this.subscription)||void 0===_a||_a.unsubscribe()}}__name(SavedCartListComponent,"SavedCartListComponent"),SavedCartListComponent.\u0275fac=__name(function(t){return new(t||SavedCartListComponent)(core.Y36(spartacus_core.Znh),core.Y36(spartacus_cart_saved_cart_root.aD),core.Y36(core.s_b),core.Y36(spartacus_storefront.Q3W))},"SavedCartListComponent_Factory"),SavedCartListComponent.\u0275cmp=core.Xpm({type:SavedCartListComponent,selectors:[["cx-saved-cart-list"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.restoreButton=_t.first)}},"SavedCartListComponent_Query"),decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[1,"cx-saved-cart-list-header"],["noSavedCarts",""],[1,"table","cx-saved-cart-list-table"],[1,"cx-saved-cart-list-thead-mobile"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"cx-saved-cart-list-cart-name"],[1,"cx-table-label-mobile","cx-saved-cart-list-label"],[1,"cx-saved-cart-list-value",3,"routerLink"],[1,"cx-saved-cart-list-cart-id"],[1,"cx-saved-cart-list-date-saved"],[1,"cx-saved-cart-list-quantity"],[1,"cx-saved-cart-list-total"],[1,"cx-saved-cart-list-make-cart-active"],[1,"link","cx-action-link","cx-saved-cart-make-active",3,"click"],["element",""],[1,"cx-saved-cart-list-no-saved-carts","row"],[1,"col-sm-12","col-md-6","col-lg-4"],[1,"cx-spinner"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,SavedCartListComponent_ng_container_0_Template,5,4,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.savedCarts$))},"SavedCartListComponent_Template"),directives:[common.O5,common.sg,router.yS,spartacus_storefront.ORR],pipes:[common.Ov,spartacus_core.X$D,spartacus_core.l2T,spartacus_core.dgE],encapsulation:2,changeDetection:0});class SavedCartListModule{}__name(SavedCartListModule,"SavedCartListModule"),SavedCartListModule.\u0275fac=__name(function(t){return new(t||SavedCartListModule)},"SavedCartListModule_Factory"),SavedCartListModule.\u0275mod=core.oAB({type:SavedCartListModule}),SavedCartListModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({cmsComponents:{AccountSavedCartHistoryComponent:{component:SavedCartListComponent,guards:[spartacus_core.a1M]}}})],imports:[[common.ez,spartacus_core.bhT,router.Bz,spartacus_storefront.xuE,spartacus_core.LUR,spartacus_storefront.Fme]]});class SavedCartFormDialogComponent{constructor(launchDialogService,el,savedCartService,eventService,routingService,globalMessageService){this.launchDialogService=launchDialogService,this.el=el,this.savedCartService=savedCartService,this.eventService=eventService,this.routingService=routingService,this.globalMessageService=globalMessageService,this.subscription=new Subscription.w,this.savedCartFormType=spartacus_cart_saved_cart_root.AE,this.iconTypes=spartacus_storefront.e1G,this.descriptionMaxLength=250,this.nameMaxLength=50,this.isCloneSavedCart=!1,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}get descriptionsCharacterLeft(){var _a,_b;return this.descriptionMaxLength-((null===(_b=null===(_a=this.form.get("description"))||void 0===_a?void 0:_a.value)||void 0===_b?void 0:_b.length)||0)}handleClick(event){event.target.tagName===this.el.nativeElement.tagName&&this.close("Cross click")}ngOnInit(){this.resetSavedCartStates(),this.isLoading$=this.savedCartService.getSaveCartProcessLoading(),this.isDisableDeleteButton$=(0,merge.T)(this.eventService.get(spartacus_cart_saved_cart_root.I6).pipe((0,take.q)(1),(0,mapTo.h)(!0)),this.eventService.get(spartacus_cart_saved_cart_root.Rf).pipe((0,take.q)(1),(0,mapTo.h)(!1))),this.isDisableRestoreButton$=(0,combineLatest.aj)([this.savedCartService.getCloneSavedCartProcessLoading(),this.savedCartService.getRestoreSavedCartProcessLoading()]).pipe((0,map.U)(([isCloneLoading,isRestoreLoading])=>isCloneLoading||isRestoreLoading)),this.subscription.add(this.launchDialogService.data$.subscribe(data=>{this.cart=data.cart,this.layoutOption=data.layoutOption,this.build(this.cart)})),this.subscription.add(this.savedCartService.getSaveCartProcessSuccess().subscribe(success=>this.onComplete(success))),this.subscription.add(this.eventService.get(spartacus_cart_saved_cart_root.Zt).pipe((0,take.q)(1),(0,mapTo.h)(!0)).subscribe(success=>this.onComplete(success))),this.subscription.add(this.savedCartService.getRestoreSavedCartProcessSuccess().subscribe(success=>this.onComplete(success)))}saveOrEditCart(cartId){var _a,_b;const name=null===(_a=this.form.get("name"))||void 0===_a?void 0:_a.value,description=(null===(_b=this.form.get("description"))||void 0===_b?void 0:_b.value)||"-";switch(this.layoutOption){case spartacus_cart_saved_cart_root.AE.SAVE:this.savedCartService.saveCart({cartId,saveCartName:name,saveCartDescription:description});break;case spartacus_cart_saved_cart_root.AE.EDIT:this.savedCartService.editSavedCart({cartId,saveCartName:name,saveCartDescription:description})}}deleteCart(cartId){this.savedCartService.deleteSavedCart(cartId)}restoreSavedCart(cartId){var _a;this.isCloneSavedCart?this.savedCartService.cloneSavedCart(cartId,null===(_a=this.form.get("cloneName"))||void 0===_a?void 0:_a.value):this.savedCartService.restoreSavedCart(cartId)}close(reason){this.launchDialogService.closeDialog(reason)}onComplete(success){var _a,_b,_c,_d;if(success)switch(this.layoutOption){case spartacus_cart_saved_cart_root.AE.DELETE:this.routingService.go({cxRoute:"savedCarts"}),this.globalMessageService.add({key:"savedCartDialog.deleteCartSuccess"},spartacus_core.xUg.MSG_TYPE_CONFIRMATION),this.close("Successfully deleted a saved cart");break;case spartacus_cart_saved_cart_root.AE.SAVE:this.close("Successfully saved cart"),this.savedCartService.clearSaveCart(),this.globalMessageService.add({key:"savedCartCartPage.messages.cartSaved",params:{cartName:(null===(_a=this.form.get("name"))||void 0===_a?void 0:_a.value)||(null===(_b=this.cart)||void 0===_b?void 0:_b.code)}},spartacus_core.xUg.MSG_TYPE_CONFIRMATION);break;case spartacus_cart_saved_cart_root.AE.EDIT:this.close("Successfully edited saved cart"),this.savedCartService.clearSaveCart(),this.globalMessageService.add({key:"savedCartDialog.editCartSuccess",params:{cartName:(null===(_c=this.form.get("name"))||void 0===_c?void 0:_c.value)||(null===(_d=this.cart)||void 0===_d?void 0:_d.code)}},spartacus_core.xUg.MSG_TYPE_CONFIRMATION);break;case spartacus_cart_saved_cart_root.AE.RESTORE:this.close("Successfully restored saved cart"),this.routingService.go({cxRoute:"savedCarts"}),this.resetSavedCartStates()}}toggleIsCloneSavedCart(){return this.isCloneSavedCart=!this.isCloneSavedCart}build(cart){const form=new fesm2015_forms.cw({});form.setControl("name",new fesm2015_forms.NI("",[fesm2015_forms.kI.required,fesm2015_forms.kI.maxLength(this.nameMaxLength)])),form.setControl("description",new fesm2015_forms.NI("",[fesm2015_forms.kI.maxLength(this.descriptionMaxLength)])),form.setControl("isCloneSavedCart",new fesm2015_forms.NI("")),form.setControl("cloneName",new fesm2015_forms.NI("")),this.form=form,this.patchData(cart)}patchData(item){this.form.patchValue(Object.assign({},item))}resetSavedCartStates(){this.savedCartService.clearCloneSavedCart(),this.savedCartService.clearSaveCart(),this.savedCartService.clearRestoreSavedCart()}ngOnDestroy(){var _a;null===(_a=this.subscription)||void 0===_a||_a.unsubscribe(),this.close("close dialog")}}__name(SavedCartFormDialogComponent,"SavedCartFormDialogComponent"),SavedCartFormDialogComponent.\u0275fac=__name(function(t){return new(t||SavedCartFormDialogComponent)(core.Y36(spartacus_storefront.Q3W),core.Y36(core.SBq),core.Y36(spartacus_cart_saved_cart_root.aD),core.Y36(spartacus_core.POd),core.Y36(spartacus_core.Znh),core.Y36(spartacus_core.IWp))},"SavedCartFormDialogComponent_Factory"),SavedCartFormDialogComponent.\u0275cmp=core.Xpm({type:SavedCartFormDialogComponent,selectors:[["cx-saved-cart-form-dialog"]],hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("click",__name(function($event){return ctx.handleClick($event)},"SavedCartFormDialogComponent_click_HostBindingHandler"))},"SavedCartFormDialogComponent_HostBindings"),decls:1,vars:1,consts:[[4,"ngIf"],[1,"cx-saved-cart-form-dialog",3,"cxFocus","esc"],[1,"cx-saved-cart-form-container",3,"formGroup"],[1,"modal-header","cx-saved-cart-form-header"],[3,"ngSwitch"],[1,"cx-saved-cart-form-title","modal-title"],[4,"ngSwitchCase"],["type","button",1,"cx-saved-cart-form-close","close",3,"disabled","click"],["aria-hidden","true"],[3,"type"],[1,"cx-saved-cart-form-body"],[4,"ngIf","ngIfElse"],["saveAndEditCart",""],[1,"cx-saved-cart-form-subtitle"],[1,"cx-saved-cart-form-row"],[1,"cx-saved-cart-values-container"],[1,"cx-saved-cart-label"],[1,"cx-saved-cart-value"],[1,"cx-saved-cart-form-footer"],["type","button",1,"mr-2","btn","btn-action",3,"click"],["isRestoreSavedCart",""],[1,"cx-copy-saved-cart-row","form-check"],["id","cx-copy-saved-cart","type","checkbox",1,"cx-copy-saved-cart-input",3,"checked","change"],["for","cx-copy-saved-cart",1,"cx-copy-saved-cart-label"],["class","cx-copy-saved-cart-row",4,"ngIf"],[1,"cx-copy-saved-cart-row"],[1,"label-content"],["formControlName","cloneName","type","text",1,"form-control",3,"maxLength","placeholder"],["class","ml-2 btn btn-primary","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"ml-2","btn","btn-primary",3,"disabled","click"],[1,"cx-saved-carts-label","label-content"],["formControlName","name","required","","type","text",1,"form-control",3,"maxLength"],[3,"control"],[1,"cx-saved-carts-label-optional"],["formControlName","description","rows","5",1,"form-control",3,"maxLength"],[1,"cx-saved-carts-input-hint"],["type","button",1,"btn","btn-action",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,SavedCartFormDialogComponent_ng_container_0_Template,19,16,"ng-container",0),2&rf&&core.Q6J("ngIf",ctx.cart)},"SavedCartFormDialogComponent_Template"),directives:[common.O5,spartacus_storefront.RRe,fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,common.RF,common.n9,spartacus_storefront.oJW,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u,fesm2015_forms.Q7,spartacus_storefront.Ahv],pipes:[common.Ov,spartacus_core.X$D],encapsulation:2,changeDetection:0});const defaultSavedCartFormLayoutConfig={launch:{SAVED_CART:{inline:!0,component:SavedCartFormDialogComponent,dialogType:spartacus_storefront.Myk.DIALOG}}};class SavedCartFormDialogModule{}__name(SavedCartFormDialogModule,"SavedCartFormDialogModule"),SavedCartFormDialogModule.\u0275fac=__name(function(t){return new(t||SavedCartFormDialogModule)},"SavedCartFormDialogModule_Factory"),SavedCartFormDialogModule.\u0275mod=core.oAB({type:SavedCartFormDialogModule}),SavedCartFormDialogModule.\u0275inj=core.cJS({imports:[[common.ez,fesm2015_forms.u5,fesm2015_forms.UX,spartacus_storefront.Fym,spartacus_core.LUR,spartacus_storefront.QX1,spartacus_storefront.oPH]]});class SavedCartComponentsModule{}__name(SavedCartComponentsModule,"SavedCartComponentsModule"),SavedCartComponentsModule.\u0275fac=__name(function(t){return new(t||SavedCartComponentsModule)},"SavedCartComponentsModule_Factory"),SavedCartComponentsModule.\u0275mod=core.oAB({type:SavedCartComponentsModule}),SavedCartComponentsModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.A2H)(defaultSavedCartFormLayoutConfig)],imports:[[router.Bz,AddToSavedCartModule,SavedCartFormDialogModule,SavedCartListModule,SavedCartDetailsModule]]});var ngrx_effects=__webpack_require__(3910),of=__webpack_require__(5917),queue=__webpack_require__(7771),empty=__webpack_require__(9193),withLatestFrom=__webpack_require__(7057),catchError=__webpack_require__(5304),observeOn=__webpack_require__(9746),startWith=__webpack_require__(9761),pluck=__webpack_require__(2996),ngrx_store=__webpack_require__(6710),tslib_es6=__webpack_require__(4762);class SavedCartAdapter{}__name(SavedCartAdapter,"SavedCartAdapter");class SavedCartConnector{constructor(adapter){this.adapter=adapter}get(userId,cartId){return this.adapter.load(userId,cartId)}getList(userId){return this.adapter.loadList(userId)}restoreSavedCart(userId,cartId){return this.adapter.restoreSavedCart(userId,cartId)}saveCart(userId,cartId,saveCartName,saveCartDescription){return this.adapter.saveCart(userId,cartId,saveCartName,saveCartDescription)}cloneSavedCart(userId,cartId,saveCartName){return this.adapter.cloneSavedCart(userId,cartId,saveCartName)}}__name(SavedCartConnector,"SavedCartConnector"),SavedCartConnector.\u0275fac=__name(function(t){return new(t||SavedCartConnector)(core.LFG(SavedCartAdapter))},"SavedCartConnector_Factory"),SavedCartConnector.\u0275prov=core.Yz7({token:SavedCartConnector,factory:SavedCartConnector.\u0275fac});const RESTORE_SAVED_CART="[Saved Cart] Restore Saved Cart",SAVE_CART="[Saved Cart] Save Cart",EDIT_SAVED_CART="[Saved Cart] Edit Saved Cart",CLONE_SAVED_CART="[Saved Cart] Clone Saved Cart";class LoadSavedCart extends spartacus_core.kPG.EntityLoadAction{constructor(payload){super(spartacus_core.N4H,payload.cartId),this.payload=payload,this.type="[Saved Cart] Load Saved Cart"}}__name(LoadSavedCart,"LoadSavedCart");class LoadSavedCartSuccess extends spartacus_core.kPG.EntitySuccessAction{constructor(payload){super(spartacus_core.N4H,payload.cartId),this.payload=payload,this.type="[Saved Cart] Load Saved Cart Success"}}__name(LoadSavedCartSuccess,"LoadSavedCartSuccess");class LoadSavedCartFail extends spartacus_core.kPG.EntityFailAction{constructor(payload){super(spartacus_core.N4H,payload.cartId,null==payload?void 0:payload.error),this.payload=payload,this.type="[Saved Cart] Load Saved Cart Fail"}}__name(LoadSavedCartFail,"LoadSavedCartFail");class LoadSavedCarts extends spartacus_core.kPG.EntityLoadAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-list"),this.payload=payload,this.type="[Saved Cart] Load Saved Carts"}}__name(LoadSavedCarts,"LoadSavedCarts");class LoadSavedCartsSuccess extends spartacus_core.kPG.EntitySuccessAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-list"),this.payload=payload,this.type="[Saved Cart] Load Saved Carts Success"}}__name(LoadSavedCartsSuccess,"LoadSavedCartsSuccess");class LoadSavedCartsFail extends spartacus_core.kPG.EntityFailAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-list",payload.error),this.payload=payload,this.type="[Saved Cart] Load Saved Carts Fail"}}__name(LoadSavedCartsFail,"LoadSavedCartsFail");class ClearSavedCarts extends spartacus_core.kPG.EntityLoaderResetAction{constructor(){super(spartacus_core.BzF,"saved-cart-list"),this.type="[Saved Cart] Clear Saved Carts"}}__name(ClearSavedCarts,"ClearSavedCarts");class RestoreSavedCart extends spartacus_core.kPG.EntityLoadAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-restore-cart"),this.payload=payload,this.type=RESTORE_SAVED_CART}}__name(RestoreSavedCart,"RestoreSavedCart");class RestoreSavedCartSuccess extends spartacus_core.kPG.EntitySuccessAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-restore-cart"),this.payload=payload,this.type="[Saved Cart] Restore Saved Cart Success"}}__name(RestoreSavedCartSuccess,"RestoreSavedCartSuccess");class RestoreSavedCartFail extends spartacus_core.kPG.EntityFailAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-restore-cart",payload.error),this.payload=payload,this.type="[Saved Cart] Restore Saved Cart Fail"}}__name(RestoreSavedCartFail,"RestoreSavedCartFail");class ClearRestoreSavedCart extends spartacus_core.kPG.EntityLoaderResetAction{constructor(){super(spartacus_core.BzF,"saved-cart-restore-cart"),this.type="[Saved Cart] Clear Restore Saved Cart"}}__name(ClearRestoreSavedCart,"ClearRestoreSavedCart");class SaveCart extends spartacus_core.kPG.EntityLoadAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-save-cart"),this.payload=payload,this.type=SAVE_CART}}__name(SaveCart,"SaveCart");class SaveCartSuccess extends spartacus_core.kPG.EntitySuccessAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-save-cart"),this.payload=payload,this.type="[Saved Cart] Save Cart Success"}}__name(SaveCartSuccess,"SaveCartSuccess");class SaveCartFail extends spartacus_core.kPG.EntityFailAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-save-cart",payload.error),this.payload=payload,this.type="[Saved Cart] Save Cart Fail"}}__name(SaveCartFail,"SaveCartFail");class ClearSaveCart extends spartacus_core.kPG.EntityLoaderResetAction{constructor(){super(spartacus_core.BzF,"saved-cart-save-cart"),this.type="[Saved Cart] Clear Save Cart"}}__name(ClearSaveCart,"ClearSaveCart");class EditSavedCart extends spartacus_core.kPG.EntityLoadAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-save-cart"),this.payload=payload,this.type=EDIT_SAVED_CART}}__name(EditSavedCart,"EditSavedCart");class EditSavedCartSuccess extends spartacus_core.kPG.EntitySuccessAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-save-cart"),this.payload=payload,this.type="[Saved Cart] Edit Saved Cart Success"}}__name(EditSavedCartSuccess,"EditSavedCartSuccess");class EditSavedCartFail extends spartacus_core.kPG.EntityFailAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-save-cart",payload.error),this.payload=payload,this.type="[Saved Cart] Edit Saved Cart Fail"}}__name(EditSavedCartFail,"EditSavedCartFail");class CloneSavedCart extends spartacus_core.kPG.EntityLoadAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-clone-cart"),this.payload=payload,this.type=CLONE_SAVED_CART}}__name(CloneSavedCart,"CloneSavedCart");class CloneSavedCartSuccess extends spartacus_core.kPG.EntitySuccessAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-clone-cart"),this.payload=payload,this.type="[Saved Cart] Clone Saved Cart Success"}}__name(CloneSavedCartSuccess,"CloneSavedCartSuccess");class CloneSavedCartFail extends spartacus_core.kPG.EntityFailAction{constructor(payload){super(spartacus_core.BzF,"saved-cart-clone-cart",payload.error),this.payload=payload,this.type="[Saved Cart] Clone Saved Cart Fail"}}__name(CloneSavedCartFail,"CloneSavedCartFail");class ClearCloneSavedCart extends spartacus_core.kPG.EntityLoaderResetAction{constructor(){super(spartacus_core.BzF,"saved-cart-clone-cart"),this.type="[Saved Cart] Clear Clone Saved Cart"}}__name(ClearCloneSavedCart,"ClearCloneSavedCart");class SavedCartEventBuilder{constructor(actionsSubject,eventService,stateEventService,multiCartService){this.actionsSubject=actionsSubject,this.eventService=eventService,this.stateEventService=stateEventService,this.multiCartService=multiCartService,this.register()}register(){this.registerRestoreSavedCartEvents(),this.registerDeleteSavedCartEvents(),this.registerSaveCartEvents(),this.registerEditSavedCartEvents(),this.registerCloneSavedCartEvents()}registerRestoreSavedCartEvents(){this.buildRestoreSavedCartEvents({action:RESTORE_SAVED_CART,event:spartacus_cart_saved_cart_root.$Q}),this.buildRestoreSavedCartEvents({action:"[Saved Cart] Restore Saved Cart Success",event:spartacus_cart_saved_cart_root.sY}),this.buildRestoreSavedCartEvents({action:"[Saved Cart] Restore Saved Cart Fail",event:spartacus_cart_saved_cart_root.Lr})}registerDeleteSavedCartEvents(){this.stateEventService.register({action:spartacus_core.$aN.DELETE_CART,event:spartacus_cart_saved_cart_root.I6,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.I6,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))}),this.stateEventService.register({action:spartacus_core.$aN.DELETE_CART_SUCCESS,event:spartacus_cart_saved_cart_root.Zt,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.Zt,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))}),this.stateEventService.register({action:spartacus_core.$aN.DELETE_CART_FAIL,event:spartacus_cart_saved_cart_root.Rf,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.Rf,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))})}registerSaveCartEvents(){this.buildSaveCartSuccessEvent({action:"[Saved Cart] Save Cart Success",event:spartacus_cart_saved_cart_root.PN}),this.stateEventService.register({action:"[Saved Cart] Save Cart Fail",event:spartacus_cart_saved_cart_root.eV,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.eV,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))}),this.stateEventService.register({action:SAVE_CART,event:spartacus_cart_saved_cart_root.dE,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.dE,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))})}registerEditSavedCartEvents(){this.buildSaveCartSuccessEvent({action:"[Saved Cart] Edit Saved Cart Success",event:spartacus_cart_saved_cart_root.j$}),this.stateEventService.register({action:"[Saved Cart] Edit Saved Cart Fail",event:spartacus_cart_saved_cart_root.yt,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.yt,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))}),this.stateEventService.register({action:EDIT_SAVED_CART,event:spartacus_cart_saved_cart_root.Bi,factory:action=>(0,spartacus_core.PjU)(spartacus_cart_saved_cart_root.Bi,Object.assign(Object.assign({},action.payload),{cartCode:action.payload.cartId}))})}registerCloneSavedCartEvents(){this.buildRestoreSavedCartEvents({action:CLONE_SAVED_CART,event:spartacus_cart_saved_cart_root.j4}),this.buildRestoreSavedCartEvents({action:"[Saved Cart] Clone Saved Cart Success",event:spartacus_cart_saved_cart_root.fT}),this.buildRestoreSavedCartEvents({action:"[Saved Cart] Clone Saved Cart Fail",event:spartacus_cart_saved_cart_root.gl})}buildRestoreSavedCartEvents(mapping){const eventStream$=this.getAction(mapping.action).pipe((0,switchMap.w)(action=>(0,of.of)(action).pipe((0,withLatestFrom.M)(this.multiCartService.getCart(action.payload.cartId)))),(0,map.U)(([action,cart])=>(0,spartacus_core.PjU)(mapping.event,Object.assign(Object.assign(Object.assign({},action.payload),{cartCode:cart.code,saveCartName:cart.name,saveCartDescription:cart.description}),cart.saveTime&&{saveTime:cart.saveTime}))));return this.eventService.register(mapping.event,eventStream$)}buildSaveCartSuccessEvent(mapping){const eventStream$=this.getAction(mapping.action).pipe((0,switchMap.w)(action=>(0,of.of)(action).pipe((0,withLatestFrom.M)(this.multiCartService.getCart(action.payload.cartId)))),(0,filter.h)(([,cart])=>Boolean(cart)),(0,map.U)(([action,cart])=>(0,spartacus_core.PjU)(mapping.event,Object.assign(Object.assign({},action.payload),{cartCode:cart.code,saveTime:cart.saveTime}))));return this.eventService.register(mapping.event,eventStream$)}getAction(actionType){return this.actionsSubject.pipe((0,ngrx_effects.l4)(...[].concat(actionType)))}}__name(SavedCartEventBuilder,"SavedCartEventBuilder"),SavedCartEventBuilder.\u0275fac=__name(function(t){return new(t||SavedCartEventBuilder)(core.LFG(ngrx_store.UO),core.LFG(spartacus_core.POd),core.LFG(spartacus_core.vL$),core.LFG(spartacus_core.YYf))},"SavedCartEventBuilder_Factory"),SavedCartEventBuilder.\u0275prov=core.Yz7({token:SavedCartEventBuilder,factory:SavedCartEventBuilder.\u0275fac,providedIn:"root"});class SavedCartEventsModule{constructor(_savedCartEventBuilder){}}__name(SavedCartEventsModule,"SavedCartEventsModule"),SavedCartEventsModule.\u0275fac=__name(function(t){return new(t||SavedCartEventsModule)(core.LFG(SavedCartEventBuilder))},"SavedCartEventsModule_Factory"),SavedCartEventsModule.\u0275mod=core.oAB({type:SavedCartEventsModule}),SavedCartEventsModule.\u0275inj=core.cJS({});class SavedCartEffects{constructor(actions$,savedCartConnector,activeCartService,globalMessageService){this.actions$=actions$,this.savedCartConnector=savedCartConnector,this.activeCartService=activeCartService,this.globalMessageService=globalMessageService,this.loadSavedCart$=this.actions$.pipe((0,ngrx_effects.l4)("[Saved Cart] Load Saved Cart"),(0,map.U)(action=>action.payload),(0,switchMap.w)(({userId,cartId})=>this.savedCartConnector.get(userId,cartId).pipe((0,switchMap.w)(savedCart=>[new spartacus_core.$aN.LoadCartSuccess({userId,cartId,cart:savedCart}),new LoadSavedCartSuccess({userId,cartId})]),(0,catchError.K)(error=>(0,of.of)(new LoadSavedCartFail({userId,cartId,error:(0,spartacus_core.cxH)(error)})))))),this.loadSavedCarts$=this.actions$.pipe((0,ngrx_effects.l4)("[Saved Cart] Load Saved Carts"),(0,map.U)(action=>action.payload),(0,switchMap.w)(({userId})=>this.savedCartConnector.getList(userId).pipe((0,switchMap.w)(savedCarts=>[new spartacus_core.$aN.LoadCartsSuccess(savedCarts),new LoadSavedCartsSuccess({userId})]),(0,catchError.K)(error=>(0,of.of)(new LoadSavedCartsFail({userId,error:(0,spartacus_core.cxH)(error)})))))),this.restoreSavedCart$=this.actions$.pipe((0,ngrx_effects.l4)(RESTORE_SAVED_CART),(0,map.U)(action=>action.payload),(0,withLatestFrom.M)(this.activeCartService.getActive()),(0,switchMap.w)(([{userId,cartId},activeCart])=>{var _a;const actions=[];return(null!==(_a=null==activeCart?void 0:activeCart.entries)&&void 0!==_a?_a:[]).length>0&&activeCart.code&&actions.push(new EditSavedCart({userId,cartId:activeCart.code,saveCartName:"",saveCartDescription:""})),this.savedCartConnector.restoreSavedCart(userId,cartId).pipe((0,switchMap.w)(savedCart=>{var _a2;return this.globalMessageService.add({key:(null!==(_a2=null==activeCart?void 0:activeCart.entries)&&void 0!==_a2?_a2:[]).length>0?"savedCartList.swapCartWithActiveCart":"savedCartList.swapCartNoActiveCart",params:{cartName:cartId,previousCartName:activeCart.code}},spartacus_core.xUg.MSG_TYPE_CONFIRMATION),[...actions,new spartacus_core.$aN.SetActiveCartId(cartId),new spartacus_core.$aN.LoadCartSuccess({userId,cartId,cart:savedCart}),new RestoreSavedCartSuccess({userId,cartId})]}),(0,catchError.K)(error=>(0,of.of)(new RestoreSavedCartFail({userId,cartId,error:(0,spartacus_core.cxH)(error)}))))})),this.saveCart$=this.actions$.pipe((0,ngrx_effects.l4)(SAVE_CART),(0,map.U)(action=>action.payload),(0,switchMap.w)(({userId,cartId,saveCartName,saveCartDescription})=>this.savedCartConnector.saveCart(userId,cartId,saveCartName,saveCartDescription).pipe((0,switchMap.w)(savedCart=>[new spartacus_core.$aN.ClearCartState,new spartacus_core.$aN.LoadCartSuccess({userId,cartId,cart:savedCart}),new SaveCartSuccess({userId,cartId,saveCartName,saveCartDescription})]),(0,catchError.K)(error=>(0,of.of)(new SaveCartFail({userId,cartId,saveCartName,saveCartDescription,error:(0,spartacus_core.cxH)(error)})))))),this.editSavedCart$=this.actions$.pipe((0,ngrx_effects.l4)(EDIT_SAVED_CART),(0,map.U)(action=>action.payload),(0,switchMap.w)(({userId,cartId,saveCartName,saveCartDescription})=>this.savedCartConnector.saveCart(userId,cartId,saveCartName,saveCartDescription).pipe((0,switchMap.w)(savedCart=>[new spartacus_core.$aN.LoadCartSuccess({userId,cartId,cart:savedCart}),new EditSavedCartSuccess({userId,cartId,saveCartName,saveCartDescription})]),(0,catchError.K)(error=>(0,of.of)(new EditSavedCartFail({userId,cartId,saveCartName,saveCartDescription,error:(0,spartacus_core.cxH)(error)})))))),this.cloneSavedCart$=this.actions$.pipe((0,ngrx_effects.l4)(CLONE_SAVED_CART),(0,map.U)(action=>action.payload),(0,switchMap.w)(({userId,cartId,saveCartName})=>this.savedCartConnector.cloneSavedCart(userId,cartId,saveCartName).pipe((0,switchMap.w)(_=>[new CloneSavedCartSuccess({userId,cartId,saveCartName}),new RestoreSavedCart({userId,cartId}),new LoadSavedCarts({userId})]),(0,catchError.K)(error=>(0,of.of)(new CloneSavedCartFail({userId,cartId,saveCartName,error:(0,spartacus_core.cxH)(error)}))))))}}__name(SavedCartEffects,"SavedCartEffects"),SavedCartEffects.\u0275fac=__name(function(t){return new(t||SavedCartEffects)(core.LFG(ngrx_effects.eX),core.LFG(SavedCartConnector),core.LFG(spartacus_core.CPo),core.LFG(spartacus_core.IWp))},"SavedCartEffects_Factory"),SavedCartEffects.\u0275prov=core.Yz7({token:SavedCartEffects,factory:SavedCartEffects.\u0275fac}),(0,tslib_es6.gn)([(0,ngrx_effects.Qm)()],SavedCartEffects.prototype,"loadSavedCart$",void 0),(0,tslib_es6.gn)([(0,ngrx_effects.Qm)()],SavedCartEffects.prototype,"loadSavedCarts$",void 0),(0,tslib_es6.gn)([(0,ngrx_effects.Qm)()],SavedCartEffects.prototype,"restoreSavedCart$",void 0),(0,tslib_es6.gn)([(0,ngrx_effects.Qm)()],SavedCartEffects.prototype,"saveCart$",void 0),(0,tslib_es6.gn)([(0,ngrx_effects.Qm)()],SavedCartEffects.prototype,"editSavedCart$",void 0),(0,tslib_es6.gn)([(0,ngrx_effects.Qm)()],SavedCartEffects.prototype,"cloneSavedCart$",void 0);const effects=[SavedCartEffects];class SavedCartStoreModule{}__name(SavedCartStoreModule,"SavedCartStoreModule"),SavedCartStoreModule.\u0275fac=__name(function(t){return new(t||SavedCartStoreModule)},"SavedCartStoreModule_Factory"),SavedCartStoreModule.\u0275mod=core.oAB({type:SavedCartStoreModule}),SavedCartStoreModule.\u0275inj=core.cJS({imports:[[ngrx_effects.sQ.forFeature(effects)]]});class SavedCartService{constructor(store,userIdService,userService,multiCartService,eventService){this.store=store,this.userIdService=userIdService,this.userService=userService,this.multiCartService=multiCartService,this.eventService=eventService}loadSavedCart(cartId){this.userIdService.takeUserId(!0).subscribe(userId=>this.store.dispatch(new LoadSavedCart({userId,cartId})),()=>{})}get(cartId){return this.getSavedCart(cartId).pipe((0,observeOn.QV)(queue.N),(0,withLatestFrom.M)(this.eventService.get(spartacus_cart_saved_cart_root.I6).pipe((0,startWith.O)({}))),(0,filter.h)(([state,_event])=>!!state),(0,tap.b)(([state,event])=>{if(Object.keys(event).length>0)return empty.E;state.loading||state.success||state.error||this.loadSavedCart(cartId)}),(0,filter.h)(([state])=>state.success||!!state.error),(0,map.U)(([state])=>state.value))}getSavedCart(cartId){return this.multiCartService.getCartEntity(cartId)}isStable(cartId){return this.multiCartService.isStable(cartId)}loadSavedCarts(){this.userIdService.takeUserId(!0).subscribe(userId=>this.store.dispatch(new LoadSavedCarts({userId})),()=>{})}getList(){return this.getSavedCartList().pipe((0,withLatestFrom.M)(this.getSavedCartListProcess()),(0,tap.b)(([_,state])=>{state.loading||state.success||state.error||this.loadSavedCarts()}),(0,pluck.j)(0),(0,shareReplay.d)({bufferSize:1,refCount:!0}))}getSavedCartList(){return(0,combineLatest.aj)([this.multiCartService.getCarts(),this.userService.get()]).pipe((0,distinctUntilChanged.x)(),(0,map.U)(([carts,user])=>carts.filter(cart=>(void 0===(null==user?void 0:user.customerId)||(null==cart?void 0:cart.name)!==(0,spartacus_core.QPb)(null==user?void 0:user.customerId))&&!(0,spartacus_core.F7p)(null==cart?void 0:cart.code)&&(null==cart?void 0:cart.saveTime))))}getSavedCartListProcessLoading(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessLoadingFactory("saved-cart-list")))}getSavedCartListProcess(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessStateFactory("saved-cart-list")))}clearSavedCarts(){this.store.dispatch(new ClearSavedCarts)}restoreSavedCart(cartId){this.userIdService.takeUserId(!0).subscribe(userId=>this.store.dispatch(new RestoreSavedCart({userId,cartId})),()=>{})}getRestoreSavedCartProcessLoading(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessLoadingFactory("saved-cart-restore-cart")))}getRestoreSavedCartProcessSuccess(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessSuccessFactory("saved-cart-restore-cart")))}getRestoreSavedCartProcessError(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessErrorFactory("saved-cart-restore-cart")))}clearRestoreSavedCart(){this.store.dispatch(new ClearRestoreSavedCart)}deleteSavedCart(cartId){this.userIdService.takeUserId(!0).subscribe(userId=>this.multiCartService.deleteCart(cartId,userId),()=>{})}saveCart({cartId,saveCartName,saveCartDescription}){this.userIdService.takeUserId(!0).subscribe(userId=>this.store.dispatch(new SaveCart({userId,cartId,saveCartName,saveCartDescription})),()=>{})}getSaveCartProcessLoading(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessLoadingFactory("saved-cart-save-cart")))}getSaveCartProcessSuccess(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessSuccessFactory("saved-cart-save-cart")))}getSaveCartProcessError(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessErrorFactory("saved-cart-save-cart")))}clearSaveCart(){this.store.dispatch(new ClearSaveCart)}editSavedCart({cartId,saveCartName,saveCartDescription}){this.userIdService.takeUserId(!0).subscribe(userId=>this.store.dispatch(new EditSavedCart({userId,cartId,saveCartName,saveCartDescription})),()=>{})}cloneSavedCart(cartId,saveCartName){this.userIdService.takeUserId(!0).subscribe(userId=>this.store.dispatch(new CloneSavedCart({userId,cartId,saveCartName})),()=>{})}getCloneSavedCartProcessLoading(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessLoadingFactory("saved-cart-clone-cart")))}getCloneSavedCartProcessSuccess(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessSuccessFactory("saved-cart-clone-cart")))}getCloneSavedCartProcessError(){return this.store.pipe((0,ngrx_store.Ys)(spartacus_core.VkE.getProcessErrorFactory("saved-cart-clone-cart")))}clearCloneSavedCart(){this.store.dispatch(new ClearCloneSavedCart)}}__name(SavedCartService,"SavedCartService"),SavedCartService.\u0275fac=__name(function(t){return new(t||SavedCartService)(core.LFG(ngrx_store.yh),core.LFG(spartacus_core.XBV),core.LFG(spartacus_core.KDu),core.LFG(spartacus_core.YYf),core.LFG(spartacus_core.POd))},"SavedCartService_Factory"),SavedCartService.\u0275prov=core.Yz7({token:SavedCartService,factory:SavedCartService.\u0275fac});const facadeProviders=[SavedCartService,{provide:spartacus_cart_saved_cart_root.aD,useExisting:SavedCartService}];class SavedCartCoreModule{}__name(SavedCartCoreModule,"SavedCartCoreModule"),SavedCartCoreModule.\u0275fac=__name(function(t){return new(t||SavedCartCoreModule)},"SavedCartCoreModule_Factory"),SavedCartCoreModule.\u0275mod=core.oAB({type:SavedCartCoreModule}),SavedCartCoreModule.\u0275inj=core.cJS({providers:[SavedCartConnector,...facadeProviders],imports:[[SavedCartStoreModule,SavedCartEventsModule]]});var http=__webpack_require__(1841);class OccSavedCartAdapter{constructor(http2,occEndpoints,converter){this.http=http2,this.occEndpoints=occEndpoints,this.converter=converter}load(userId,cartId){return this.http.get(this.getSavedCartEndpoint(userId,cartId)).pipe((0,pluck.j)("savedCartData"),this.converter.pipeable(spartacus_core.jKV))}loadList(userId){return this.http.get(this.getSavedCartListEndpoint(userId)).pipe((0,pluck.j)("carts"),(0,map.U)(carts=>null!=carts?carts:[]),this.converter.pipeableMany(spartacus_core.jKV))}restoreSavedCart(userId,cartId){return this.http.patch(this.getRestoreSavedCartEndpoint(userId,cartId),cartId).pipe((0,pluck.j)("savedCartData"),this.converter.pipeable(spartacus_core.jKV))}saveCart(userId,cartId,saveCartName,saveCartDescription){return this.http.patch(this.getSaveCartEndpoint(userId,cartId,saveCartName,saveCartDescription),cartId).pipe((0,pluck.j)("savedCartData"),this.converter.pipeable(spartacus_core.jKV))}cloneSavedCart(userId,cartId,saveCartName){return this.http.post(this.getCloneSavedCartEndpoint(userId,cartId,saveCartName),cartId).pipe((0,pluck.j)("savedCartData"),this.converter.pipeable(spartacus_core.jKV))}getSavedCartEndpoint(userId,cartId){return this.occEndpoints.buildUrl("savedCart",{urlParams:{userId,cartId}})}getSavedCartListEndpoint(userId){return this.occEndpoints.buildUrl("savedCarts",{urlParams:{userId}})}getRestoreSavedCartEndpoint(userId,cartId){return this.occEndpoints.buildUrl("restoreSavedCart",{urlParams:{userId,cartId}})}getSaveCartEndpoint(userId,cartId,saveCartName,saveCartDescription){return this.occEndpoints.buildUrl("saveCart",{urlParams:{userId,cartId,saveCartName,saveCartDescription}})}getCloneSavedCartEndpoint(userId,cartId,saveCartName){return this.occEndpoints.buildUrl("cloneSavedCart",{urlParams:{userId,cartId,saveCartName}})}}__name(OccSavedCartAdapter,"OccSavedCartAdapter"),OccSavedCartAdapter.\u0275fac=__name(function(t){return new(t||OccSavedCartAdapter)(core.LFG(http.eN),core.LFG(spartacus_core.Lz0),core.LFG(spartacus_core.IXI))},"OccSavedCartAdapter_Factory"),OccSavedCartAdapter.\u0275prov=core.Yz7({token:OccSavedCartAdapter,factory:OccSavedCartAdapter.\u0275fac});class SavedCartOccModule{}__name(SavedCartOccModule,"SavedCartOccModule"),SavedCartOccModule.\u0275fac=__name(function(t){return new(t||SavedCartOccModule)},"SavedCartOccModule_Factory"),SavedCartOccModule.\u0275mod=core.oAB({type:SavedCartOccModule}),SavedCartOccModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({backend:{occ:{endpoints:{savedCarts:"/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)",saveCart:"/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}",savedCart:"/users/${userId}/carts/${cartId}/savedcart",restoreSavedCart:"/users/${userId}/carts/${cartId}/restoresavedcart",cloneSavedCart:"/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}"}}}}),{provide:SavedCartAdapter,useClass:OccSavedCartAdapter}],imports:[[common.ez]]});class SavedCartModule{}__name(SavedCartModule,"SavedCartModule"),SavedCartModule.\u0275fac=__name(function(t){return new(t||SavedCartModule)},"SavedCartModule_Factory"),SavedCartModule.\u0275mod=core.oAB({type:SavedCartModule}),SavedCartModule.\u0275inj=core.cJS({imports:[[SavedCartCoreModule,SavedCartOccModule,SavedCartComponentsModule]]})}};